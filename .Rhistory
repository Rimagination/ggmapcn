crs    = crs_longlat_150,
datum  = sf::st_crs(4326)
) +
theme_minimal() +
theme(axis.title = element_blank())
library(ggplot2)
library(ggmapcn)
# WGS84 (EPSG:4326) + central meridian at 150°E
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150,
datum  = sf::st_crs(4326)
) +
theme_minimal() +
theme(axis.title = element_blank())
library(ggplot2)
library(ggmapcn)
# WGS84 (EPSG:4326) + central meridian at 150°E
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150,
datum  = sf::st_crs(4326)
) +
theme_bw()
library(ggplot2)
library(ggmapcn)
# WGS84 (EPSG:4326) + central meridian at 150°E
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150,
datum  = sf::st_crs(4326),
expand = FALSE
) +
theme_bw()
library(ggplot2)
library(ggmapcn)
# WGS84 (EPSG:4326) + central meridian at 150°E
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150) +
theme_bw()
library(ggplot2)
library(ggmapcn)
# WGS84 (EPSG:4326) + central meridian at 150°E
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150) +
theme_void()
# 2. World map with long–lat axes
ggplot() +
geom_world() +
coord_sf(
crs    = 4326,
expand = FALSE,
datum  = sf::st_crs(4326)
) +
theme_minimal()
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150,
expand = FALSE,
datum  = sf::st_crs(4326)
) +
theme_void()
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150,
expand = FALSE
) +
theme_void()
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150,
expand = FALSE
) +
theme_minimal()
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150
) +
theme_minimal()
# 1. Simplest world map
ggplot() +
geom_world() +
theme_void()
# 2. World map with long–lat axes
ggplot() +
geom_world() +
coord_sf(
crs    = 4326,
expand = FALSE,
datum  = sf::st_crs(4326)
) +
theme_minimal()
ggplot() +
geom_world(crs = crs_longlat_150) +
coord_sf(
crs    = crs_longlat_150,
expand = FALSE,
datum  = sf::st_crs(4326)
) +
theme_minimal()
# 2. World map with long–lat axes
ggplot() +
geom_world() +
coord_sf(
crs    = 4326,
expand = FALSE,
datum  = sf::st_crs(4326)
) +
theme_minimal()
ggplot() +
geom_world(crs = crs_longlat_150) +
annotation_graticule(
crs          = crs_longlat_150,
lon_step     = 30,
lat_step     = 30,
label_offset = 5
) +
coord_sf(
crs    = crs_longlat_150,
expand = FALSE,
datum  = sf::st_crs(4326)
) +
theme_minimal()
ggplot() +
geom_world(crs = crs_longlat_150) +
annotation_graticule(
crs          = crs_longlat_150,
lon_step     = 30,
lat_step     = 30,
label_offset = 5
) +
coord_sf(
crs    = crs_longlat_150,
datum  = sf::st_crs(4326)
) +
theme_minimal()
ggplot() +
geom_world(crs = crs_longlat_150) +
them_void()
ggplot() +
geom_world(crs = crs_longlat_150) +
theme_void()
# 1. Ensure data availability
check_geodata(c("world_countries.rda", "world_coastlines.rda"))
# 2. Load the world countries data
# Use system.file to locate the data in the installed package
map_path <- system.file("extdata", "world_countries.rda", package = "ggmapcn")
# Safety check: only load if file is found (prevents crash if package not fully installed)
if (map_path != "") {
load(map_path)
# 3. Create custom data (e.g., approximate GDP in trillion USD)
custom_data <- data.frame(
iso_code = c("CHN", "USA", "IND", "DEU", "JPN", "FRA", "GBR", "BRA",
"ITA", "CAN", "RUS", "KOR", "AUS", "MEX", "IDN", "SAU"),
gdp      = c(14.34, 21.43, 2.87, 3.85, 5.08, 2.78, 2.83, 1.84,
2.00, 1.74, 1.70, 1.63, 1.39, 1.27, 1.12, 0.79)
)
# 4. Merge custom data with world_countries
merged_data <- merge(
world_countries,
custom_data,
by.x  = "SOC",
by.y  = "iso_code",
all.x = TRUE
)
# 5. Plot
ggplot() +
geom_sf(data = merged_data, aes(fill = gdp), color = "grey80", size = 0.1) +
scale_fill_viridis_c(
option = "plasma",
na.value = "grey95",
name = "GDP (Trillion $)"
) +
theme_void() +
theme(legend.position = "bottom")
} else {
message("Map data file not found. Please ensure ggmapcn is installed.")
}
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150)
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150)+
theme_minimal()
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame =TRUE)+
theme_minimal()
# 5. Robinson projection centred at 150°E
crs_robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin_150) +
coord_sf(crs = crs_robin_150) +
theme_void()
# 5. Robinson projection centred at 150°E
crs_robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin_150, show_frame = TRUE) +
coord_sf(crs = crs_robin_150) +
theme_void()
# 2. World map with long–lat axes
ggplot() +
geom_world() +
coord_sf(
crs    = 4326,
expand = FALSE,
datum  = sf::st_crs(4326)
) +
theme_minimal()
# 3. Without ocean layer
ggplot() +
geom_world(show_ocean = FALSE) +
theme_minimal()
# 5. Robinson projection centred at 150°E
crs_robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin_150) +
coord_sf(crs = crs_robin_150) +
theme_void()
# 5. Robinson projection centred at 150°E
crs_robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin_150, show_frame = FALSE) +
coord_sf(crs = crs_robin_150) +
theme_void()
# 3. Without ocean layer
ggplot() +
geom_world(show_ocean = TRUE) +
theme_minimal()
# 5. Robinson projection centred at 150°E
crs_robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin_150, show_frame = TRUE) +
coord_sf(crs = crs_robin_150) +
theme_void()
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame =TRUE)+
theme_minimal()
# 1. Standard World Map (WGS84)
ggplot() +
geom_world() +
theme_void()
# 2. Pacific-Centered View (Shifted LongLat)
# This demonstrates the seamless frame without vertical artifacts.
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE) +
theme_minimal()
# 2. Pacific-Centered View (Shifted LongLat)
# This demonstrates the seamless frame without vertical artifacts.
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE) +
theme_void()
# 3. Robinson Projection (Projected CRS)
crs_robin <- "+proj=robin +lon_0=0 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin, show_frame = TRUE) +
theme_void()
# 4. Highlighting specific countries (China)
ggplot() +
geom_world(country_fill = "grey95") +
geom_world(
filter_attribute = "SOC",
filter = "CHN",
country_fill = "red",
country_boundary_color = "black"
) +
theme_void()
crs_robin <- "+proj=robin +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin) +
annotation_graticule(
crs          = crs_robin,
lon_step     = 30,
lat_step     = 15,
label_offset = 3e5
) +
coord_sf(crs = crs_robin) +
theme_void()
# 4. Without administrative boundaries
ggplot() +
geom_world(show_admin_boundaries = FALSE) +
theme_minimal()
crs_robin <- "+proj=robin +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin) +
annotation_graticule(
crs          = crs_robin,
lon_step     = 30,
lat_step     = 15,
label_offset = 3e5
) +
coord_sf(crs = crs_robin) +
theme_void()
ggplot() +
geom_world(
show_ocean            = FALSE,
show_admin_boundaries = FALSE
) +
theme_minimal()
robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = robin_150,
show_ocean            = FALSE,
show_admin_boundaries = FALSE
) +
theme_minimal()
robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = robin_150,
show_ocean            = FALSE,
show_admin_boundaries = FALSE,
show_frame = TRUE
) +
theme_minimal()
robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = robin_150,
show_ocean            = FALSE,
show_admin_boundaries = FALSE,
show_frame = TRUE
) +
coord_sf(crs = robin_150,
expand = FALSE
) +
theme_minimal()
robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = robin_150,
show_ocean            = FALSE,
show_admin_boundaries = FALSE,
show_frame = TRUE
) +
theme_void()
robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(crs = robin_150,
show_ocean            = FALSE,
show_admin_boundaries = FALSE,
show_frame = TRUE
) +
coord_sf(crs = robin_150
) +
theme_minimal()
ggplot() +
geom_world(crs = robin_150) +
annotation_graticule(
crs          = crs_robin,
lon_step     = 30,
lat_step     = 15,
label_offset = 3e5
) +
coord_sf(crs = crs_robin) +
theme_void()
crs_robin <- "+proj=robin +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin) +
annotation_graticule(
crs          = crs_robin,
lon_step     = 30,
lat_step     = 15,
label_offset = 3e5
) +
coord_sf(crs = crs_robin) +
theme_void()
ggplot() +
geom_world(crs = robin_150) +
annotation_graticule(
crs          = robin_150,
lon_step     = 30,
lat_step     = 15,
label_offset = 3e5
) +
coord_sf(crs = robin_150) +
theme_void()
?annotation_graticule
ggplot() +
geom_world(crs = robin_150) +
annotation_graticule(
crs          = robin_150,
lon_step     = 30,
lat_step     = 60,
label_offset = 3e5
) +
coord_sf(crs = robin_150) +
theme_void()
ggplot() +
geom_world(crs = robin_150) +
annotation_graticule(
crs          = robin_150,
lon_step     = 60,
lat_step     = 30,
label_offset = 3e5
) +
coord_sf(crs = robin_150) +
theme_void()
ggplot() +
geom_world(crs = robin_150) +
annotation_graticule(
crs          = robin_150,
lon_step     = 30,
lat_step     = 30,
label_offset = 3e5
) +
coord_sf(crs = robin_150) +
theme_void()
pkgdown::build_site()
pkgdown::preview_site(path='articles/World_Map_Overview.html')
?geom_world
# 3. Robinson Projection (Projected CRS)
crs_robin <- "+proj=robin +lon_0=0 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin, show_frame = TRUE) +
theme_void()
# 2. Pacific-Centered View (Shifted LongLat)
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE, show_ocean = FALSE) +
theme_void()
# 2. Pacific-Centered View (Shifted LongLat)
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE) +
theme_void()
devtools::check()
devtools::check()
Sys.setfiletime("your/file/path", Sys.time())
Sys.setfiletime("D:/Rdata/mypkg/ggmapcn", Sys.time())
library(tools)
timestamp <- file_timestamp("D:/Rdata/mypkg/ggmapcn")
install.packages("fs")
library(fs)
file_info("D:/Rdata/mypkg/ggmapcn")
library(fs)
file_info("D:/Rdata/mypkg/ggmapcn")
library(fs)
file_info("D:/Rdata/mypkg/ggmapcn")
file_info <- file.info("D:/Rdata/mypkg/ggmapcn")
print(file_info$mtime)  # 修改时间
print(file_info$atime)  # 访问时间
print(file_info$atime)  # 访问时间
print(file_info$atime)  # 访问时间
file_info <- file.info("D:/Rdata/mypkg/ggmapcn")
print(file_info$mtime)  # 修改时间
print(file_info$atime)  # 访问时间
devtools::check()
devtools::document()
devtools::check_rhub()         # 用于跨平台测试（RHub 提供 CRAN 风格的测试）
rhub::rhub_check()
rhub::check_for_cran()
# 2. Pacific-Centered View (Shifted LongLat)
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE, show_ocean = FALSE) +
theme_void()
# 2. Pacific-Centered View (Shifted LongLat)
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE) +
theme_void()
# 定义Robinson投影
robin_150 <- "+proj=robin +lon_0=150 +datum=WGS84"
ggplot() +
geom_world(
crs = robin_150,
show_ocean = FALSE,              # 不显示海洋填充
show_admin_boundaries = FALSE,   # 仅显示海岸线/地区轮廓，不显示国家内部行政边界
show_frame = TRUE                # 添加地图外边框
) +
coord_sf(crs = robin_150) +
theme_minimal()
# 2. Pacific-Centered View (Shifted LongLat)
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE,
military_boundary_size = 0.1) +
theme_void()
rhub::rhub_check()
devtools::check()
?geom_world
# 1. Simple World Map (WGS84)
ggplot() +
geom_world() +
theme_void()
# 2. Pacific-Centered View (Shifted LongLat)
crs_longlat_150 <- "+proj=longlat +datum=WGS84 +lon_0=150"
ggplot() +
geom_world(crs = crs_longlat_150, show_frame = TRUE, show_ocean = FALSE) +
theme_void()
# 3. Robinson Projection (Projected CRS)
crs_robin <- "+proj=robin +lon_0=0 +datum=WGS84"
ggplot() +
geom_world(crs = crs_robin, show_frame = TRUE) +
theme_void()
devtools::release()
devtools::check()
devtools::release()
