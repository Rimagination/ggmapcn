---
title: "ggmapcn"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{ggmapcn}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(ggmapcn)
```

## Basic Map Plot

To plot a map of China with province boundaries, use the `geom_mapcn()` function. The map uses the Azimuthal Equal Distance projection by default.

```{r example1, fig.alt='Basic Map'}
ggplot() +
  geom_mapcn() +
  theme_minimal()
```

## Custom Projection and Styling

If you want to try the Albers projection, you can customize it.

```{r example2, fig.alt='Basic Map'}
ggplot() +
  geom_mapcn(crs = "+proj=aea +lat_1=25 +lat_2=47 +lat_0=0 +lon_0=105 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs", color = "black", fill ="lightblue", size = 0.7) +
  theme_bw()
```

## Adding Mainland Borders and Coastlines

Use `geom_boundary_cn()` to add mainland borders and coastlines to the map. You can set colors and line widths for both the mainland and coastline boundaries:

```{r example3, fig.alt='Map with Boundary'}
ggplot() +
  geom_mapcn(fill = NA) +
  geom_boundary_cn(
    mainland_color = "black",
    mainland_size = 0.5,
    coastline_color = "blue",
    coastline_size = 0.3
  ) +
  theme_minimal()
```

## Adding Buffer Zones

The `geom_buffer_cn()` function adds buffer zones around China’s borders. You can specify buffer distances, colors, and projections. The example below shows buffer zones with varying distances:

```{r example4, fig.alt='Buffer'}
ggplot() +
  geom_buffer_cn(mainland_dist = 40000) +
  geom_buffer_cn(mainland_dist = 20000, fill = "#BBB3D8") +
  theme_minimal()
```


## Data Source

The data used in this package is sourced from Tianditu, providing province-level boundary information. This data has been processed into GeoJSON format and is integrated into the package for easy access.
You'll still need to render `README.Rmd` regularly, to keep `README.md` up-to-date. `devtools::build_readme()` is handy for this.

## Example

Here’s a comprehensive example demonstrating how to plot province boundaries, buffer zones, and coastlines on the same map:

```{r example5, fig.alt='Map of China'}
ggplot() +
  geom_buffer_cn(mainland_dist = 40000) +
  geom_buffer_cn(mainland_dist = 20000, fill = "#BBB3D8") +
  geom_mapcn(fill = "white") +
  geom_boundary_cn() +
  theme_minimal()
```
