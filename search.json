[{"path":"https://rimagination.github.io/ggmapcn/articles/Adding_Basic_Map.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Adding_Basic_Map","text":"ggmapcn package provides various tools visualizing geographic data China beyond. vignette demonstrates basic advanced usage geom_mapcn() geom_world() plotting administrative boundaries combining geographic data.","code":""},{"path":"https://rimagination.github.io/ggmapcn/articles/Adding_Basic_Map.html","id":"example-1-basic-map-of-china","dir":"Articles","previous_headings":"","what":"Example 1: Basic Map of China","title":"Adding_Basic_Map","text":"draw simple map China provincial boundaries, use geom_mapcn(). default, uses Azimuthal Equidistant projection centered China.","code":"ggplot() +   geom_mapcn() +   geom_boundary_cn() +   theme_bw()"},{"path":"https://rimagination.github.io/ggmapcn/articles/Adding_Basic_Map.html","id":"example-2-adding-buffer-zones-and-coastlines","dir":"Articles","previous_headings":"","what":"Example 2: Adding Buffer Zones and Coastlines","title":"Adding_Basic_Map","text":"example illustrates layer multiple geographic features—mainland buffers, coastlines, administrative boundaries—onto single map.","code":"ggplot() +   geom_buffer_cn(mainland_dist = 40000) +   geom_buffer_cn(mainland_dist = 20000, fill = \"#BBB3D8\") +   geom_mapcn(fill = \"white\") +   geom_boundary_cn() +   theme_bw() #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries"},{"path":"https://rimagination.github.io/ggmapcn/articles/Adding_Basic_Map.html","id":"example-3-adding-spatial-point-data","dir":"Articles","previous_headings":"","what":"Example 3: Adding Spatial Point Data","title":"Adding_Basic_Map","text":"geom_loc function allows overlay spatial point data onto map. supports sf objects data frames containing longitude latitude columns, can map aesthetics like color categorical variables.","code":"# Create a ggplot with spatial points colored by 'Category' set.seed(123) data_sim <- data.frame(    Longitude = runif(100, 80, 120),    Latitude = runif(100, 28, 40),    Category = sample(c(\"Type A\", \"Type B\", \"Type C\"), 100, replace = TRUE)    ) ggplot() +    geom_boundary_cn() +    geom_loc(      data = data_sim, lon = \"Longitude\", lat = \"Latitude\",      mapping = aes(color = Category), size = 1, alpha = 0.7    ) +    theme_bw()"},{"path":"https://rimagination.github.io/ggmapcn/articles/Adding_Basic_Map.html","id":"example-4-basemap_vege-vegetation-map-of-china-layer-for-ggplot2","dir":"Articles","previous_headings":"","what":"Example 4: basemap_vege: Vegetation Map of China Layer for ggplot2","title":"Adding_Basic_Map","text":"using function, ensure necessary data files available running: basemap_vege function adds vegetation raster map China color-coded vegetation types ggplot.","code":"# This function checks if the required data files are available # It may take some time, especially if your network connection is slow.   check_geodata(files = c(\"vege_1km_projected.tif\"), quiet = FALSE) # Add vegetation raster of China to a ggplot ggplot() +   basemap_vege() +   guides(fill = guide_none()) +   theme_bw()"},{"path":"https://rimagination.github.io/ggmapcn/articles/Adding_Basic_Map.html","id":"example-5-basemap_dem-elevation-map-of-china-layer-for-ggplot2","dir":"Articles","previous_headings":"","what":"Example 5: basemap_dem: Elevation Map of China Layer for ggplot2","title":"Adding_Basic_Map","text":"basemap_dem function adds digital elevation model (DEM) raster map China layer ggplot2.","code":"# Apply Azimuthal Equidistant projection centered on China ggplot() +   basemap_dem(crs = china_proj, within_china = TRUE) +   geom_boundary_cn(crs = china_proj) +   tidyterra::scale_fill_hypso_c(     palette = \"dem_print\",     breaks = c(0, 2000, 4000, 6000),     limits = c(0, 7000)   ) +   labs(fill = \"Elevation (m)\") +   theme_minimal() +   theme(legend.position = \"bottom\") #> <SpatRaster> resampled to 1000968 cells."},{"path":"https://rimagination.github.io/ggmapcn/articles/Adding_Basic_Map.html","id":"example-6-coord_proj-transforming-limits-for-custom-projections","dir":"Articles","previous_headings":"","what":"Example 6: coord_proj: Transforming Limits for Custom Projections","title":"Adding_Basic_Map","text":"coord_proj function simplifies working custom projections. accepts map limits (xlim, ylim) standard WGS84 longitude/latitude coordinates automatically transforms specified CRS. , Azimuthal Equidistant projection centered China applied, transformed map limits specified longitude latitude.  Additionally, can focus map South China Sea Islands. longitude latitude range shown demonstration purposes .","code":"ggplot() +   geom_mapcn(fill = \"white\") +   geom_boundary_cn() +   coord_proj(     crs = china_proj,     xlim = c(60, 140),     ylim = c(10, 50)   ) +   theme_bw() ggplot() +   geom_mapcn(fill = \"white\") +   geom_boundary_cn() +   theme_bw() +   coord_proj(     crs = china_proj,     expand = FALSE,     xlim = c(105, 126),     ylim = c(2, 23)   )"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"setup","dir":"Articles","previous_headings":"","what":"1. Setup","title":"Advanced scale bar and compass annotations","text":"vignette demonstrates use advanced customization options available annotation_scalebar() annotation_compass() ggmapcn package. use standard North Carolina shapefile provided sf package base map.","code":"library(ggplot2) library(sf) #> Linking to GEOS 3.12.1, GDAL 3.8.4, PROJ 9.4.0; sf_use_s2() is TRUE library(ggmapcn)  # Load example data nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  # Create a base map object base_geo <- ggplot() +   geom_sf(data = nc, fill = \"grey90\", color = \"grey40\") +   theme_minimal()  base_geo"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"scale-bars-in-a-projected-crs","dir":"Articles","previous_headings":"","what":"2. Scale bars in a projected CRS","title":"Advanced scale bar and compass annotations","text":"Scale bars accurate used projected Coordinate Reference System (CRS). , project map EPSG:32617 (UTM Zone 17N). can control position using location (e.g., \"bl\" bottom-left, \"tr\" top-right) adjust relative width using width_hint.","code":"base_proj <- base_geo +   coord_sf(crs = 32617) +   theme(axis.title = element_blank())  # Default scale bar at bottom-left base_proj +   annotation_scalebar(location = \"bl\") # Top-right scale bar with custom width hint base_proj +   annotation_scalebar(     location   = \"tr\",     width_hint = 0.5   )"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"scale-bar-styles","dir":"Articles","previous_headings":"","what":"3. Scale bar styles","title":"Advanced scale bar and compass annotations","text":"annotation_scalebar() supports multiple styles: \"segment\", \"ticks\", \"bar\". can also customize colors text visibility.    can also set fixed distance width (e.g., 100km) change line colors:","code":"# 1. Segment style p_segment <- base_proj +   annotation_scalebar(     location = \"bl\",     style    = \"segment\",     label_show = \"all\"   ) p_segment # 2. Ticks style p_ticks <- base_proj +   annotation_scalebar(     location = \"br\",     style    = \"ticks\"   ) p_ticks # 3. Bar style with custom colors p_bar <- base_proj +   annotation_scalebar(     location = \"tl\",     style    = \"bar\",     bar_cols = c(\"black\", \"white\")   ) p_bar base_proj +   annotation_scalebar(     location     = \"bl\",     fixed_width  = 100000,   # 100 km in meters     display_unit = \"km\",     line_col     = \"red\"   )"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"geographic-crs-approx-distance-vs--degrees","dir":"Articles","previous_headings":"","what":"4. Geographic CRS: Approx distance vs. Degrees","title":"Advanced scale bar and compass annotations","text":"plotting unprojected data (Latitude/Longitude, EPSG:4326), accurate distance calculation difficult. geographic_mode = \"approx_m\": Attempts calculate distances meters (approximation). geographic_mode = \"degrees\": Shows scale decimal degrees.","code":"# Approximate meters base_geo +   coord_sf(crs = 4326) +   annotation_scalebar(     location        = \"bl\",     geographic_mode = \"approx_m\"   ) #> Warning: Scale bar is approximate in geographic CRS (degrees). Distances vary #> with latitude. For accuracy, use a projected CRS, or set `geographic_mode = #> \"degrees\"`. # Degrees base_geo +   coord_sf(crs = 4326) +   annotation_scalebar(     location        = \"bl\",     geographic_mode = \"degrees\"   )"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"basic-compass-grid-north","dir":"Articles","previous_headings":"","what":"5. Basic compass (Grid North)","title":"Advanced scale bar and compass annotations","text":"Add north arrow using annotation_compass(). can adjust size padding using grid::unit().","code":"# Default classic arrow base_geo +   annotation_compass(     location = \"tl\",     style    = north_arrow_classic()   ) # Custom size and padding base_geo +   annotation_compass(     location = \"tl\",     height   = grid::unit(0.8, \"cm\"),     width    = grid::unit(0.8, \"cm\"),     pad_x    = grid::unit(0.3, \"cm\"),     pad_y    = grid::unit(0.3, \"cm\")   )"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"true-north-vs--grid-north","dir":"Articles","previous_headings":"","what":"6. True North vs. Grid North","title":"Advanced scale bar and compass annotations","text":"many projections (like Lambert Conformal Conic), “Grid North” (straight page) different “True North” (direction North Pole). Use which_north = \"true\" automatically calculate convergence angle rotate compass.","code":"# Define a Lambert Conformal Conic projection base_lcc <- base_geo +   coord_sf(crs = \"+proj=lcc +lon_0=-100 +lat_1=33 +lat_2=45\") +   theme(axis.title = element_blank())  # True North (automatically rotated) base_lcc +   annotation_compass(     which_north = \"true\",     location    = \"br\",     style       = compass_rose_simple()   ) # Grid North with manual rotation base_lcc +   annotation_compass(     which_north = \"grid\",     rotation    = 30,     location    = \"tr\",     style       = north_arrow_solid()   )"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"compass-styles","dir":"Articles","previous_headings":"","what":"7. Compass styles","title":"Advanced scale bar and compass annotations","text":"ggmapcn provides various styles, including unique compass_sinan() (referencing ancient Chinese compass).","code":"p_classic <- base_proj +   annotation_compass(     location = \"tl\",     style    = north_arrow_classic()   )  p_rose <- base_proj +   annotation_compass(     location = \"br\",     style    = compass_rose_classic()   )  p_sinan <- base_proj +   annotation_compass(     location = \"tl\",     style    = compass_sinan()   )  p_classic p_rose p_sinan"},{"path":"https://rimagination.github.io/ggmapcn/articles/Advanced_Scalebar_and_Compass.html","id":"combining-scale-bar-and-compass","dir":"Articles","previous_headings":"","what":"8. Combining scale bar and compass","title":"Advanced scale bar and compass annotations","text":"Finally, can layer annotations onto single map.","code":"base_proj +   annotation_scalebar(     location   = \"bl\",     style      = \"ticks\",     width_hint = 0.3   ) +   annotation_compass(     location = \"tl\",     style    = compass_rose_circle()   )"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"introduction","dir":"Articles","previous_headings":"","what":"1. Introduction","title":"World map overview with geom_world()","text":"geom_world() provides convenient global base map ggplot2. comes bundled country polygons, coastlines, political/administrative boundaries. Key features include: Automatic CRS transformation: Seamlessly projects data desired Coordinate Reference System. Antimeridian splitting: Handles “Pacific wrap-around” issue automatically changing central meridians. Layer control: Toggles ocean background administrative boundaries.","code":""},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"default-wgs84-map","dir":"Articles","previous_headings":"2. Basic usage","what":"2.1 Default WGS84 map","title":"World map overview with geom_world()","text":"default, geom_world() plots map using WGS84 standard.","code":"ggplot() +   geom_world() +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"explicit-crs-specification","dir":"Articles","previous_headings":"2. Basic usage","what":"2.2 Explicit CRS specification","title":"World map overview with geom_world()","text":"can specify CRS directly within function.","code":"ggplot() +   geom_world(crs = 4326) +   coord_sf(crs = 4326) +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"hiding-the-ocean-layer","dir":"Articles","previous_headings":"2. Basic usage","what":"2.3 Hiding the ocean layer","title":"World map overview with geom_world()","text":"cleaner look, can remove blue ocean background change land fill color.","code":"ggplot() +   geom_world(     show_ocean   = FALSE,     country_fill = \"grey90\"   ) +   theme_minimal()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"hiding-administrative-boundaries","dir":"Articles","previous_headings":"2. Basic usage","what":"2.4 Hiding administrative boundaries","title":"World map overview with geom_world()","text":"need continental landmasses without internal country borders, set show_admin_boundaries = FALSE.  Combining options creates minimalist silhouette map:","code":"ggplot() +   geom_world(     show_admin_boundaries = FALSE,     country_fill          = \"white\"   ) +   theme_minimal() ggplot() +   geom_world(     show_ocean            = FALSE,     show_admin_boundaries = FALSE   ) +   theme_minimal()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"projections","dir":"Articles","previous_headings":"","what":"3. Projections","title":"World map overview with geom_world()","text":"geom_world() shines working different map projections. automatically projects underlying polygons.","code":""},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"robinson-projection","dir":"Articles","previous_headings":"3. Projections","what":"3.1 Robinson projection","title":"World map overview with geom_world()","text":"","code":"crs_robin <- \"+proj=robin +datum=WGS84\"  ggplot() +   geom_world(crs = crs_robin) +   coord_sf(crs = crs_robin) +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"robinson-projection-centred-at-150e","dir":"Articles","previous_headings":"3. Projections","what":"3.2 Robinson projection centred at 150°E","title":"World map overview with geom_world()","text":"Changing central meridian (centering map Pacific) often difficult standard ggplot2. geom_world() handles polygon splitting automatically.","code":"crs_robin_150 <- \"+proj=robin +lon_0=150 +datum=WGS84\"  ggplot() +   geom_world(crs = crs_robin_150) +   coord_sf(crs = crs_robin_150) +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"geographic-crs-with-shifted-central-meridian","dir":"Articles","previous_headings":"3. Projections","what":"3.3 Geographic CRS with shifted central meridian","title":"World map overview with geom_world()","text":"","code":"crs_wgs84_150 <- \"+proj=longlat +datum=WGS84 +lon_0=150\"  ggplot() +   geom_world(crs = crs_wgs84_150) +   coord_sf(crs = crs_wgs84_150) +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"axis-labels-and-gridlines","dir":"Articles","previous_headings":"","what":"4. Axis labels and gridlines","title":"World map overview with geom_world()","text":"common issue coord_sf() gridlines appear, axis labels (coordinates) disappear. often occurs : expand = TRUE extends map beyond ±180° ±90°. CRS lacks geographic datum. Solid layers (like ocean polygon) drawn top panel grid. Recommended pattern reliable axis labels: Use expand = FALSE inside coord_sf set panel.ontop = TRUE theme.","code":"ggplot() +   geom_world() +   coord_sf(     crs    = 4326,     expand = FALSE,     datum  = sf::st_crs(4326)   ) +   theme_minimal() +   theme(panel.ontop = TRUE)"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"graticule-annotation-meridians-parallels","dir":"Articles","previous_headings":"","what":"5. Graticule annotation (meridians & parallels)","title":"World map overview with geom_world()","text":"annotation_graticule() provides precise control meridians parallels. Unlike standard gridlines, annotation layers : generated WGS84 transformed target CRS. Allow custom line spacing (lon_step, lat_step) label placement.","code":""},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"global-wgs84-map-with-graticules","dir":"Articles","previous_headings":"5. Graticule annotation (meridians & parallels)","what":"5.1 Global WGS84 map with graticules","title":"World map overview with geom_world()","text":"","code":"ggplot() +   geom_world() +   annotation_graticule(     lon_step     = 60,     lat_step     = 30,     label_offset = 5   ) +   coord_sf(     crs    = 4326,     expand = FALSE,     datum  = sf::st_crs(4326)   ) +   theme_void() +   theme(panel.ontop = TRUE)"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"robinson-projection-1","dir":"Articles","previous_headings":"5. Graticule annotation (meridians & parallels)","what":"5.2 Robinson projection","title":"World map overview with geom_world()","text":"Note graticules curve naturally projection.","code":"crs_robin <- \"+proj=robin +datum=WGS84\"  ggplot() +   geom_world(crs = crs_robin) +   annotation_graticule(     crs          = crs_robin,     lon_step     = 30,     lat_step     = 15,     label_offset = 3e5   ) +   coord_sf(crs = crs_robin) +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"regional-china-map-clean-axis-labels","dir":"Articles","previous_headings":"5. Graticule annotation (meridians & parallels)","what":"5.3 Regional China map (clean axis labels)","title":"World map overview with geom_world()","text":"regional maps, recommended pattern : Use annotation_graticule() draw lines hide internal labels (label_color = NA). Use standard labs() coord_sf labels axes. Keep region exact expand = FALSE.","code":"cn_xlim <- c(70, 140) cn_ylim <- c(0, 60)  ggplot() +   geom_world() +   annotation_graticule(     xlim         = cn_xlim,     ylim         = cn_ylim,     crs          = 4326,     lon_step     = 10,     lat_step     = 10,     label_color  = NA,     label_offset = 1,     label_size   = 3.5   ) +   coord_sf(     xlim   = cn_xlim,     ylim   = cn_ylim,     expand = FALSE   ) +   labs(     x = \"Longitude\",     y = \"Latitude\"   ) +   theme_bw()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"highlighting-selected-countries","dir":"Articles","previous_headings":"","what":"6. Highlighting selected countries","title":"World map overview with geom_world()","text":"can create “highlight” maps layering geom_world() calls. first call draws base (e.g., white), second call filters specific countries color .","code":""},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"highlighting-china","dir":"Articles","previous_headings":"6. Highlighting selected countries","what":"6.1 Highlighting China","title":"World map overview with geom_world()","text":"","code":"ggplot() +   geom_world(     country_fill = \"white\",     show_frame   = TRUE   ) +   geom_world(     filter_attribute = \"SOC\",     filter           = \"CHN\",     country_fill     = \"red\"   ) +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"highlighting-multiple-countries","dir":"Articles","previous_headings":"6. Highlighting selected countries","what":"6.2 Highlighting multiple countries","title":"World map overview with geom_world()","text":"Pass vector ISO codes highlight multiple regions.","code":"focus <- c(\"CHN\", \"JPN\", \"KOR\")  ggplot() +   geom_world(     country_fill = \"grey95\",     show_frame   = TRUE   ) +   geom_world(     filter_attribute = \"SOC\",     filter           = focus,     country_fill     = \"#f57f17\"   ) +   theme_void()"},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"visualizing-custom-data","dir":"Articles","previous_headings":"","what":"7. Visualizing Custom Data","title":"World map overview with geom_world()","text":"Users can also merge external datasets (e.g., GDP, population, metrics) map data create choropleth maps. requires accessing underlying spatial data using check_geodata load.","code":""},{"path":"https://rimagination.github.io/ggmapcn/articles/World_Map_Overview.html","id":"merging-external-metrics","dir":"Articles","previous_headings":"7. Visualizing Custom Data","what":"7.1 Merging external metrics","title":"World map overview with geom_world()","text":"First, ensure necessary geospatial data files available load . , merge custom data using ISO country code (SOC).  workflow highlights key design philosophy: accessing raw spatial data via check_geodata() processing geom_sf(), gain complete flexibility visualize custom datasets. time, overlaying geom_world() ensures final map retains consistent, high-quality basemap administrative boundary styles provided ggmapcn.","code":"# 1. Ensure data availability and GET FILE PATHS map_files <- check_geodata(c(\"world_countries.rda\", \"world_coastlines.rda\")) #> extdata dir: /home/runner/work/_temp/Library/ggmapcn/extdata (writable = TRUE) #> cache   dir: /home/runner/.local/share/R/ggmapcn (writable = TRUE) #> Using existing extdata file: /home/runner/work/_temp/Library/ggmapcn/extdata/world_countries.rda #> Using existing extdata file: /home/runner/work/_temp/Library/ggmapcn/extdata/world_coastlines.rda  # 2. Load the world countries data (object name: 'countries') load(map_files[1])  # 3. Create custom data: Real 2023 Population Estimates (Top 25+ major nations) # Unit: Millions custom_data <- data.frame(   iso_code = c(\"CHN\", \"IND\", \"USA\", \"IDN\", \"PAK\", \"NGA\", \"BRA\", \"BGD\",                 \"RUS\", \"MEX\", \"JPN\", \"ETH\", \"PHL\", \"EGY\", \"VNM\", \"COD\",                 \"TUR\", \"IRN\", \"DEU\", \"THA\", \"GBR\", \"FRA\", \"ITA\", \"ZAF\",                 \"KOR\", \"ESP\", \"COL\", \"CAN\", \"AUS\", \"SAU\"),   pop_mil  = c(1425.7, 1428.6, 339.9, 277.5, 240.5, 223.8, 216.4, 172.9,                 144.4, 128.5, 123.3, 126.5, 117.3, 112.7, 98.9, 102.3,                 85.8, 89.2, 83.2, 71.8, 67.7, 64.7, 58.9, 60.4,                 51.7, 47.5, 52.1, 38.8, 26.6, 36.9) )  # 4. Merge custom data with the 'countries' object # Note: Use 'all.x = TRUE' to preserve the map geometry for all countries merged_data <- merge(   countries,    custom_data,    by.x  = \"SOC\",    by.y  = \"iso_code\",    all.x = TRUE )  # 5. Plot with layering strategy ggplot() +   # Layer 1: Data Fill (No borders, just color)   geom_sf(     data  = merged_data,      aes(fill = pop_mil),      color = \"transparent\"   ) +   # Layer 2: World Boundaries (Transparent fill, standard borders)   geom_world(     country_fill = NA,      show_ocean   = FALSE   ) +   # Styling   scale_fill_viridis_c(     option    = \"plasma\",      na.value  = \"grey95\",      direction = -1,      # Reverse color scale so dark = high population     name      = \"Population (Millions)\"   ) +   theme_void() +   theme(legend.position = \"bottom\")"},{"path":"https://rimagination.github.io/ggmapcn/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Liang Ren. Author, maintainer.","code":""},{"path":"https://rimagination.github.io/ggmapcn/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ren L (2025). ggmapcn: Customizable China Global Map Visualizations. R package version 0.3.0, https://rimagination.github.io/ggmapcn/.","code":"@Manual{,   title = {ggmapcn: Customizable China and Global Map Visualizations},   author = {Liang Ren},   year = {2025},   note = {R package version 0.3.0},   url = {https://rimagination.github.io/ggmapcn/}, }"},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"ggmapcn-","dir":"","previous_headings":"","what":"Customizable China and Global Map Visualizations","title":"Customizable China and Global Map Visualizations","text":"ggmapcn ggplot2 extension package visualizing maps China world customizable projections cartographic styling. CRAN imposes strict size limits package data, certain large geospatial datasets used ggmapcn bundled directly. datasets stored externally retrieved automatically using check_geodata(). high-level functions—geom_mapcn() geom_world()—internally call check_geodata() ensure required data files exist locally. network unavailable remote mirrors reached, check_geodata() fails gracefully returning NA paths. behavior fully compliant CRAN’s policy optional network resources.","code":""},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Customizable China and Global Map Visualizations","text":"Install development version GitHub:","code":"# install.packages(\"devtools\") devtools::install_github(\"Rimagination/ggmapcn\", force = TRUE)"},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"data-management-with-check_geodata","dir":"","previous_headings":"","what":"Data Management with check_geodata()","title":"Customizable China and Global Map Visualizations","text":"Several datasets—world_countries.rda, China_sheng.rda, gebco_2024_China.tif—hosted externally.check_geodata() automatically: user-specified local_dirs package extdata directory per-user cache directory via tools::R_user_dir(\"ggmapcn\", \"data\") downloads missing files mirrors (jsDelivr GitHub) verifies checksums available retries failure supports resume capability returns NA instead errors mirrors reached check retrieve files: retrieve explicitly datasets used geom_world(): network access cdn.jsdelivr.net raw.githubusercontent.com, may manually download files place directory passed local_dirs.","code":"check_geodata() check_geodata(c(   \"world_countries.rda\",   \"world_coastlines.rda\",   \"world_boundaries.rda\" ))"},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"id_1-basic-map-of-china","dir":"","previous_headings":"","what":"1. Basic Map of China","title":"Customizable China and Global Map Visualizations","text":"","code":"library(ggplot2) library(ggmapcn)  ggplot() +   geom_mapcn() +   geom_boundary_cn() +   theme_minimal()"},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"id_2-custom-projection-albers","dir":"","previous_headings":"","what":"2. Custom Projection (Albers)","title":"Customizable China and Global Map Visualizations","text":"","code":"ggplot() +   geom_mapcn(     crs = \"+proj=aea +lat_1=25 +lat_2=47 +lat_0=0 +lon_0=105 +datum=WGS84\",     fill = \"white\",     color = \"black\",     size = 0.7   ) +   geom_boundary_cn() +   theme_bw()"},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"id_3-adding-mainland-borders-and-coastlines","dir":"","previous_headings":"","what":"3. Adding Mainland Borders and Coastlines","title":"Customizable China and Global Map Visualizations","text":"","code":"ggplot() +   geom_mapcn(fill = NA) +   geom_boundary_cn(     mainland_color = \"black\",     mainland_size = 0.5,     coastline_color = \"skyblue\",     coastline_size = 0.5   ) +   theme_bw()"},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"id_4-buffer-zones","dir":"","previous_headings":"","what":"4. Buffer Zones","title":"Customizable China and Global Map Visualizations","text":"","code":"ggplot() +   geom_buffer_cn(mainland_dist = 40000) +   geom_buffer_cn(mainland_dist = 20000, fill = \"#BBB3D8\") +   geom_mapcn(fill = \"white\") +   geom_boundary_cn() +   theme_bw() #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries #> Warning: attribute variables are assumed to be spatially constant throughout #> all geometries"},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"id_5-world-map-wgs84","dir":"","previous_headings":"","what":"5. World Map (WGS84)","title":"Customizable China and Global Map Visualizations","text":"","code":"ggplot() +   geom_world(show_ocean = FALSE) +   theme_bw()"},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"china-administrative-boundaries","dir":"","previous_headings":"","what":"China administrative boundaries","title":"Customizable China and Global Map Visualizations","text":"Provided Tiandituhttps://cloudcenter.tianditu.gov.cn/administrativeDivision/ Province-, prefecture-, county-level boundaries preprocessed simplified efficient rendering ggplot2.","code":""},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"global-administrative-boundaries","dir":"","previous_headings":"","what":"Global administrative boundaries","title":"Customizable China and Global Map Visualizations","text":"global dataset (countries, coastlines, political boundaries) curated maintained package authors. optimized consistent cartographic outputs across world projections supports antimeridian splitting.","code":""},{"path":"https://rimagination.github.io/ggmapcn/index.html","id":"learn-more","dir":"","previous_headings":"","what":"Learn More","title":"Customizable China and Global Map Visualizations","text":"See Articles tutorials : global projections antimeridian handling elevation raster overlays vegetation environmental data styling world China maps regional vs. global map workflows","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_compass.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a Spatially-Aware Compass — annotation_compass","title":"Add a Spatially-Aware Compass — annotation_compass","text":"`annotation_compass()` adds compass (north arrow) ggplot map. can align **grid north** (top panel) **true north** (geographic north). Styles provided grobs functions returning grobs (example `north_arrow_classic()`, `compass_sinan()`).","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_compass.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a Spatially-Aware Compass — annotation_compass","text":"","code":"annotation_compass(   mapping = NULL,   data = NULL,   ...,   location = \"bl\",   which_north = \"grid\",   height = unit(1.5, \"cm\"),   width = unit(1.5, \"cm\"),   pad_x = unit(0.5, \"cm\"),   pad_y = unit(0.5, \"cm\"),   rotation = NULL,   style = north_arrow_classic() )"},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_compass.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a Spatially-Aware Compass — annotation_compass","text":"mapping, data Standard ggplot2 layer arguments (typically unused). ... Additional parameters passed layer (rarely needed). location Character; one `\"tl\"`, `\"tr\"`, `\"bl\"`, `\"br\"`, indicating top/bottom left/right placement. Default: `\"bl\"`. which_north Character; `\"grid\"` (default) `\"true\"`. height, width `grid::unit`. Compass box dimensions. Defaults: `1.5 cm`. pad_x, pad_y `grid::unit`. Padding panel edges. Defaults: `0.5 cm`. rotation Numeric. Fixed rotation degrees (counter-clockwise). supplied, overrides `\"grid\"` / `\"true\"` behavior. style grob, `gList` / `gTree`, function returning grob (example `north_arrow_classic()`). Default: `north_arrow_classic()`.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_compass.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a Spatially-Aware Compass — annotation_compass","text":"ggplot2 layer object.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_compass.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add a Spatially-Aware Compass — annotation_compass","text":"* `\"grid\"` north: compass points straight plotting space   (CRS required). * `\"true\"` north: compass rotates toward geographic North Pole   using plot CRS. requires valid CRS supplied `coord_sf()`   injected via `layer$geom_params$crs`. * fixed `rotation` (degrees counter-clockwise) always overrides   automatic `\"grid\"` / `\"true\"` logic. * layer annotation-like: draws per panel based   panel bounds.","code":""},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_compass.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a Spatially-Aware Compass — annotation_compass","text":"","code":"nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  base <- ggplot() +   geom_sf(data = nc, fill = \"grey90\") +   theme_minimal()  # Example 1: Grid north (no CRS required), bottom-left base + annotation_compass()   # Example 2: Custom style & position (top-left) base + annotation_compass(location = \"tl\", style = compass_sinan())   # Example 3: True north (requires a CRS) base +   coord_sf(crs = \"+proj=lcc +lon_0=-100 +lat_1=33 +lat_2=45\") +   annotation_compass(location = \"br\", which_north = \"true\")"},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_graticule.html","id":null,"dir":"Reference","previous_headings":"","what":"Global graticule annotation for ggplot2 maps — annotation_graticule","title":"Global graticule annotation for ggplot2 maps — annotation_graticule","text":"Draw global latitude-longitude graticules degree labels annotation layers `ggplot2` maps. Graticules constructed geographic coordinates (EPSG:4326) user-defined window (given `xlim`/`ylim`, default: full globe), optionally split antimeridian according target CRS, transformed map CRS. Regional maps usually need function can rely default `coord_sf()` axes.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_graticule.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Global graticule annotation for ggplot2 maps — annotation_graticule","text":"","code":"annotation_graticule(   xlim = NULL,   ylim = NULL,   crs = \"+proj=longlat +datum=WGS84\",   lon_step = 60,   lat_step = 30,   line_color = \"grey70\",   line_width = 0.3,   line_type = \"dashed\",   line_alpha = 1,   label_color = \"grey30\",   label_size = 3,   label_family = \"\",   label_alpha = 1,   label_angle = 0,   label_format = NULL,   label_offset = 5,   label_offset_lon = NULL,   label_offset_lat = NULL,   sides = c(\"left\", \"bottom\"),   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_graticule.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Global graticule annotation for ggplot2 maps — annotation_graticule","text":"xlim Numeric vector length 2 giving longitude range degrees `c(xmin, xmax)` longitude-latitude (WGS84, EPSG:4326). Longitudes interpreted `[-180, 180]`. `xlim` `ylim` `NULL` (default), full globe `(-180, 180)` used. ylim Numeric vector length 2 giving latitude range degrees `c(ymin, ymax)` longitude-latitude (WGS84, EPSG:4326). Latitudes interpreted `[-90, 90]`. `xlim` `ylim` `NULL` (default), full globe `(-90, 90)` used. crs Target coordinate reference system graticule, given PROJ string `sf::crs` object. match CRS used map layers `coord_sf()`. default WGS84 longitude- latitude definition. lon_step Spacing degrees meridians. Default `60`. lat_step Spacing degrees parallels. Default `30`. line_color Line colour graticule lines. Default `\"grey70\"`. line_width Line width graticule lines. Default `0.3`. line_type Line type graticule lines. Default `\"dashed\"`. line_alpha Line transparency, range `[0, 1]`. Default `1` (opaque). label_color Text colour labels. Default `\"grey30\"`. label_size Text size labels millimeters (mm), passed `ggplot2::geom_text()`. Default `3`. Note: unit differs point unit (pt) used `theme()`. match specific font size points (e.g., 8 pt), use `label_size = 8 / ggplot2::.pt`. label_family Font family labels (e.g., \"sans\", \"serif\", \"mono\"). Default `\"\"` (system default). label_alpha Text transparency, range `[0, 1]`. Default `1`. label_angle Text rotation angle degrees. Default `0`. label_format Optional function format degree labels. `NULL` (default), standard N/S/E/W formatting used (e.g., \"30\"). provided, function accepting numeric vector returning character vector. label_offset Common offset applied labels, units target CRS. geographic CRSs (degrees), interpreted degrees (default `5`). projected CRSs (e.g. metres), typically need much larger value (e.g. `3e5` Robinson azimuthal projections). label_offset_lon Optional offset applied longitude labels. supplied, overrides `label_offset` longitude labels. label_offset_lat Optional offset applied latitude labels. supplied, overrides `label_offset` latitude labels. sides Character vector indicating sides labels drawn. combination `\"bottom\"`, `\"top\"`, `\"left\"`, `\"right\"`. Default `c(\"left\", \"bottom\")`. ... Additional arguments forwarded `ggplot2::geom_sf()` graticule line layer.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_graticule.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Global graticule annotation for ggplot2 maps — annotation_graticule","text":"list two `ggplot2` layers: `geom_sf()` layer graticule   lines `geom_text()` layer labels.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_graticule.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Global graticule annotation for ggplot2 maps — annotation_graticule","text":"Graticules always generated WGS84 longitude-latitude (EPSG:4326). non-zero central meridian (`lon_0`) detected target CRS, meridians parallels can split antimeridian via `sf::st_break_antimeridian()` transformed, avoids unexpected line wrapping projections centred away 0 degrees. Latitude labels +/-90 degrees always omitted. drawing full-globe longitude-latitude map 0 degree central meridian (, `xlim` `ylim` `NULL` CRS geographic `lon_0 = 0`), longitude labels +/-180 degrees omitted (corresponding graticule lines may still drawn).","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_graticule.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Global graticule annotation for ggplot2 maps — annotation_graticule","text":"","code":"library(ggplot2)  # 1. Graticule on a WGS84 world map ggplot() +   geom_world() +   annotation_graticule(     lon_step     = 60,     lat_step     = 30,     label_offset = 5   ) +   coord_sf(crs = \"+proj=longlat +datum=WGS84\") +   theme_void()   # 2. Robinson projection centred at 150E crs_robin_150 <- \"+proj=robin +lon_0=150 +datum=WGS84\"  ggplot() +   geom_world(crs = crs_robin_150) +   annotation_graticule(     crs            = crs_robin_150,     lon_step       = 30,     lat_step       = 15,     label_offset   = 3e5   ) +   coord_sf(crs = crs_robin_150) +   theme_void() #> although coordinates are longitude/latitude, st_intersection assumes that they #> are planar   # 3. Regional China map (long-lat) with graticule lines and axis labels cn_xlim <- c(70, 140) cn_ylim <- c(0, 60)  ggplot() +   geom_world() +   annotation_graticule(     xlim           = cn_xlim,     ylim           = cn_ylim,     crs            = 4326,     lon_step       = 10,     lat_step       = 10,     label_color    = NA,    # draw only lines; use axis labels instead     label_offset   = 1,     label_size     = 3.5   ) +   coord_sf(     xlim   = cn_xlim,     ylim   = cn_ylim,     expand = FALSE   ) +   labs(     x = \"Longitude\",     y = \"Latitude\"   ) +   theme_bw()"},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_scalebar.html","id":null,"dir":"Reference","previous_headings":"","what":"Add a Spatially-Aware Scale Bar — annotation_scalebar","title":"Add a Spatially-Aware Scale Bar — annotation_scalebar","text":"`annotation_scalebar()` adds projection-aware scale bar ggplot map. reads map's CRS (`coord_sf()` `crs` argument), chooses readable width units, uses robust fallbacks scale bar still draws even CRS information limited. Supported styles: * `\"segment\"` – minimal horizontal bar ticks labels (default) * `\"ticks\"`   – baseline vertical ticks * `\"bar\"`     – alternating black/white blocks","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_scalebar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add a Spatially-Aware Scale Bar — annotation_scalebar","text":"","code":"annotation_scalebar(   mapping = NULL,   data = NULL,   ...,   location = \"bl\",   style = \"segment\",   fixed_width = NULL,   crs_unit = NULL,   crs = NULL,   display_unit = NULL,   unit_labels = NULL,   width_hint = 0.25,   unit_category = \"metric\",   bar_cols = c(\"black\", \"white\"),   line_width = 1,   height = grid::unit(0.25, \"cm\"),   pad_x = grid::unit(0.25, \"cm\"),   pad_y = grid::unit(0.25, \"cm\"),   text_pad = grid::unit(0.15, \"cm\"),   text_cex = 0.7,   text_face = NULL,   text_family = \"\",   tick_height = 0.6,   segments = NULL,   label_show = \"ends\",   minor_tick_height = 0.5,   geographic_mode = c(\"approx_m\", \"degrees\"),   text_col = \"black\",   line_col = \"black\" )"},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_scalebar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add a Spatially-Aware Scale Bar — annotation_scalebar","text":"mapping, data Standard ggplot2 layer arguments (typically unused). ... Additional parameters passed layer (rarely needed). location Character. One `\"bl\"`, `\"br\"`, `\"tr\"`, `\"tl\"`; placement relative panel edges. Default: `\"bl\"`. style Character. Scale bar style: `\"segment\"` (default), `\"bar\"`, `\"ticks\"`. fixed_width Numeric. Bar width *native CRS units* (example, meters). Overrides automatic width selection. crs_unit Character. CRS units (example `\"m\"`, `\"ft\"`, `\"°\"`). Usually auto-detected; set auto-detection possible. crs [sf::st_crs] object PROJ string. Fallback CRS plot provide one (example, using `coord_sf()`). display_unit Character. Display units labels (example `\"m\"`, `\"km\"`). Ignored `geographic_mode = \"degrees\"`. unit_labels Named character vector custom unit labels, e.g. `c(km = \"Kilometers\", m = \"Meters\", \"°\" = \"°\")`. width_hint Numeric (0, 1]. Target fraction panel width used bar. Default: `0.25`. unit_category Character. `\"metric\"` (default) `\"imperial\"`. Affects automatic promotion units (m → km, ft → mi). bar_cols Character vector length two. Fill colours `\"bar\"` style blocks. Default: `c(\"black\", \"white\")`. line_width Numeric. Line width outlines ticks. Default: `1`. height [grid::unit]. Bar height. Default: `unit(0.25, \"cm\")`. pad_x, pad_y [grid::unit]. Padding panel edges. Default: `unit(0.25, \"cm\")`. text_pad [grid::unit]. Gap bar text labels. Default: `unit(0.15, \"cm\")`. text_cex, text_face, text_family Font settings labels. Defaults: `0.7`, `NULL`, `\"\"`. tick_height Numeric [0, 1]. Relative height interior ticks `\"ticks\"` style. Default: `0.6`. segments Integer. `\"segment\"` style, number major divisions. `NULL`, automatic, readable choice used. label_show ticks get labels: `\"ends\"` (default), `\"\"`, `\"major\"`, numeric frequency (example `2`), numeric vector 1-based indices. minor_tick_height Numeric [0, 1]. `\"segment\"` style, relative height minor ticks. Default: `0`. geographic_mode Character, **geographic CRS** : * `\"approx_m\"`: approximate meters/kilometers (default; warns   approximation). * `\"degrees\"`: show raw degrees (metric conversion). text_col, line_col Colours text labels outlines/ticks. Defaults: `\"black\"`, `\"black\"`.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_scalebar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add a Spatially-Aware Scale Bar — annotation_scalebar","text":"ggplot2 layer representing scale bar.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_scalebar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add a Spatially-Aware Scale Bar — annotation_scalebar","text":"* **projected CRS** (example UTM AEQD meters), scale bar   measured native map units accurate projection. * **geographic CRS** (EPSG:4326, degrees), distance depends   latitude. `geographic_mode` argument controls degrees handled:   - `\"approx_m\"` (default): approximate meters/kilometers using     great-circle distance panel’s mid-latitude (warning issued).   - `\"degrees\"`: display raw degree units (example `1°`) without     converting. * can override automatically chosen width `fixed_width`,   interpreted native CRS units.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/annotation_scalebar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add a Spatially-Aware Scale Bar — annotation_scalebar","text":"","code":"nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)  base_plot <- ggplot() +   geom_sf(data = nc, fill = \"grey90\") +   theme_minimal()  # Example 1: Projected CRS with a longer scale bar base_plot +   coord_sf(crs = 32617) +   annotation_scalebar(location = \"bl\", width_hint = 0.5)   # Example 2: Ticks style, top-right base_plot +   coord_sf(crs = 32617) +   annotation_scalebar(location = \"tr\", style = \"ticks\")   # Example 3: Geographic CRS (EPSG:4326), approximate meters (warns) base_plot +   coord_sf(crs = 4326) +   annotation_scalebar(location = \"bl\", geographic_mode = \"approx_m\") #> Warning: Scale bar is approximate in geographic CRS (degrees). Distances vary with latitude. For accuracy, use a projected CRS, or set `geographic_mode = \"degrees\"`.   # Example 4: Force a 100 km bar with red outlines base_plot +   coord_sf(crs = 32617) +   annotation_scalebar(     location     = \"bl\",     fixed_width  = 100000,     display_unit = \"km\",     line_col     = \"red\"   )"},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_dem.html","id":null,"dir":"Reference","previous_headings":"","what":"Elevation Map of China Layer for ggplot2 — basemap_dem","title":"Elevation Map of China Layer for ggplot2 — basemap_dem","text":"`basemap_dem` adds digital elevation model (DEM) raster map China layer ggplot2. function ensures output map remains rectangular, regardless chosen projection. supports displaying DEM either within China's boundary larger rectangular area around China. Users can provide DEM data using `data` parameter, default built-DEM data used.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_dem.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Elevation Map of China Layer for ggplot2 — basemap_dem","text":"","code":"basemap_dem(   data = NULL,   crs = NULL,   within_china = FALSE,   maxcell = 1e+06,   na.rm = FALSE,   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_dem.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Elevation Map of China Layer for ggplot2 — basemap_dem","text":"data Optional. `terra` raster object custom DEM data. crs Coordinate reference system (CRS) projection. Defaults CRS DEM data. Users can specify CRS strings (e.g., `\"EPSG:4326\"` custom projections). within_china Logical. `TRUE`, displays DEM within China's boundary. `FALSE`, displays DEM larger rectangular area around China. Default `FALSE`. maxcell Maximum number cells rendering (improve performance). Defaults `1e6`. na.rm Logical. `TRUE`, removes missing values. Default `FALSE`. ... Additional parameters passed `geom_spatraster`.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_dem.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Elevation Map of China Layer for ggplot2 — basemap_dem","text":"`ggplot` object containing elevation map China layer, can customized plotted.","code":""},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_dem.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Elevation Map of China Layer for ggplot2 — basemap_dem","text":"","code":"# \\donttest{ # Before using the basemap_dem function, make sure the required data files are available. # The required files are: \"gebco_2024_China.tif\" and \"China_mask.gpkg\". # You can use check_geodata() to download them from GitHub if they are not available locally.  # Check and download the required data files if they are missing check_geodata(files = c(\"gebco_2024_China.tif\", \"China_mask.gpkg\")) #> extdata dir: /home/runner/work/_temp/Library/ggmapcn/extdata (writable = TRUE) #> cache   dir: /home/runner/.local/share/R/ggmapcn (writable = TRUE) #> Fetching 'gebco_2024_China.tif' into: /home/runner/work/_temp/Library/ggmapcn/extdata #>   Trying URL: https://cdn.jsdelivr.net/gh/Rimagination/ggmapcn-data@main/data/gebco_2024_China.tif #> Download attempt 1 for 'gebco_2024_China.tif' failed: HTTP response code said error [cdn.jsdelivr.net]: #> The requested URL returned error: 403 #> Download attempt 2 for 'gebco_2024_China.tif' failed: HTTP response code said error [cdn.jsdelivr.net]: #> The requested URL returned error: 403 #> Download attempt 3 for 'gebco_2024_China.tif' failed: HTTP response code said error [cdn.jsdelivr.net]: #> The requested URL returned error: 403 #> Giving up on 'gebco_2024_China.tif' from URL: https://cdn.jsdelivr.net/gh/Rimagination/ggmapcn-data@main/data/gebco_2024_China.tif (last error: HTTP response code said error [cdn.jsdelivr.net]: #> The requested URL returned error: 403). #>   Trying URL: https://raw.githubusercontent.com/Rimagination/ggmapcn-data/main/data/gebco_2024_China.tif #> Saved to extdata: /home/runner/work/_temp/Library/ggmapcn/extdata/gebco_2024_China.tif #> Using existing extdata file: /home/runner/work/_temp/Library/ggmapcn/extdata/China_mask.gpkg #> [1] \"/home/runner/work/_temp/Library/ggmapcn/extdata/gebco_2024_China.tif\" #> [2] \"/home/runner/work/_temp/Library/ggmapcn/extdata/China_mask.gpkg\"       # Define the CRS for China (EPSG:4326 is a common global geographic coordinate system) china_proj <- \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\"  # Example 1: Display full rectangular area around China using built-in DEM data ggplot() +   basemap_dem(within_china = FALSE) +   tidyterra::scale_fill_hypso_tint_c(     palette = \"gmt_globe\",     breaks = c(-10000, -5000, 0, 2000, 5000, 8000)   ) +   theme_minimal() #> <SpatRaster> resampled to 1001520 cells.   # Example 2: Display only China's DEM and boundaries using built-in DEM data ggplot() +   basemap_dem(crs = china_proj, within_china = TRUE) +   geom_boundary_cn(crs = china_proj) +   tidyterra::scale_fill_hypso_c(     palette = \"dem_print\",     breaks = c(0, 2000, 4000, 6000),     limits = c(0, 7000)   ) +   labs(fill = \"Elevation (m)\") +   theme_minimal() #> <SpatRaster> resampled to 1000968 cells.  # }"},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_vege.html","id":null,"dir":"Reference","previous_headings":"","what":"Vegetation Map of China Layer for ggplot2 — basemap_vege","title":"Vegetation Map of China Layer for ggplot2 — basemap_vege","text":"Adds vegetation raster map China ggplot2 plot, color-coded vegetation types.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_vege.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vegetation Map of China Layer for ggplot2 — basemap_vege","text":"","code":"basemap_vege(   color_table = NULL,   crs = NULL,   maxcell = 1e+06,   use_coltab = TRUE,   na.rm = FALSE,   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_vege.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Vegetation Map of China Layer for ggplot2 — basemap_vege","text":"color_table data frame containing vegetation types corresponding colors. columns \"code\" (raster values), \"type\" (vegetation names), \"col\" (hex color codes). NULL, default color table based standard vegetation classifications China used. crs character string specifying coordinate reference system projection. NULL, default projection \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\" applied. maxcell integer indicating maximum number cells rendering improve performance. Defaults 1e6. use_coltab logical value indicating whether use color table raster values. Default TRUE. na.rm logical value indicating whether remove missing values. Default FALSE. ... Additional parameters passed `geom_spatraster`.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_vege.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Vegetation Map of China Layer for ggplot2 — basemap_vege","text":"ggplot2 layer object representing vegetation map China.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_vege.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Vegetation Map of China Layer for ggplot2 — basemap_vege","text":"Zhang X, Sun S, Yong S, et al. (2007). *Vegetation map People's Republic China (1:1000000)*. Geology Publishing House, Beijing.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/basemap_vege.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Vegetation Map of China Layer for ggplot2 — basemap_vege","text":"","code":"# \\donttest{ # Example1: Check and load the vegetation raster map  # Make sure the required raster data is available check_geodata(files = c(\"vege_1km_projected.tif\")) #> extdata dir: /home/runner/work/_temp/Library/ggmapcn/extdata (writable = TRUE) #> cache   dir: /home/runner/.local/share/R/ggmapcn (writable = TRUE) #> Fetching 'vege_1km_projected.tif' into: /home/runner/work/_temp/Library/ggmapcn/extdata #>   Trying URL: https://cdn.jsdelivr.net/gh/Rimagination/ggmapcn-data@main/data/vege_1km_projected.tif #> Saved to extdata: /home/runner/work/_temp/Library/ggmapcn/extdata/vege_1km_projected.tif #> [1] \"/home/runner/work/_temp/Library/ggmapcn/extdata/vege_1km_projected.tif\"  # Once the data is checked or downloaded, add the vegetation raster to a ggplot ggplot() +   basemap_vege() +   theme_minimal() #> <SpatRaster> resampled to 1000776 cells. #> Warning: Removed 715308 rows containing missing values or values outside the scale range #> (`geom_raster()`).   # Example2: Customize color table custom_colors <- data.frame(   code = 0:11,   type = c(     \"Non-vegetated\", \"Needleleaf forest\", \"Needleleaf and broadleaf mixed forest\",     \"Broadleaf forest\", \"Scrub\", \"Desert\", \"Steppe\", \"Grassland\",     \"Meadow\", \"Swamp\", \"Alpine vegetation\", \"Cultivated vegetation\"   ),   col = c(     \"#8D99B3\", \"#97B555\", \"#34BF36\", \"#9ACE30\", \"#2EC6C9\", \"#E5CE0E\",     \"#5BB1ED\", \"#6494EF\", \"#7AB9CB\", \"#D97A80\", \"#B87701\", \"#FEB780\"   ) ) ggplot() +   basemap_vege(color_table = custom_colors) +   labs(fill = \"Vegetation type group\") +   theme_minimal() #> <SpatRaster> resampled to 1000776 cells. #> Warning: Removed 715308 rows containing missing values or values outside the scale range #> (`geom_raster()`).  # }"},{"path":"https://rimagination.github.io/ggmapcn/reference/check_geodata.html","id":null,"dir":"Reference","previous_headings":"","what":"Check and retrieve required geodata files — check_geodata","title":"Check and retrieve required geodata files — check_geodata","text":"Ensures external geospatial data files required ggmapcn available locally. Existing files reused overwrite = FALSE; missing files downloaded remote mirrors possible. mirrors fail (example, due network restrictions), function fails gracefully returning NA affected files without raising warnings errors, line CRAN policy.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/check_geodata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check and retrieve required geodata files — check_geodata","text":"","code":"check_geodata(   files = NULL,   overwrite = FALSE,   quiet = FALSE,   max_retries = 3,   mirrors = NULL,   use_checksum = TRUE,   checksums = NULL,   resume = TRUE,   local_dirs = NULL )"},{"path":"https://rimagination.github.io/ggmapcn/reference/check_geodata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check and retrieve required geodata files — check_geodata","text":"files Character vector file names. NULL, known files processed. overwrite Logical; TRUE, forces re-download even non-empty file already exists. quiet Logical; TRUE, suppresses progress output messages. max_retries Integer; number retry attempts per file mirror. mirrors Character vector base URLs ending /. NULL, package defaults used. use_checksum Logical; TRUE, verifies SHA-256 checksums available. checksums Optional named character vector SHA-256 digests. NULL, defaults derived known_files() used. resume Logical; whether attempt HTTP range resume partially downloaded .part files. local_dirs Character vector directories search prior download attempt.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/check_geodata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check and retrieve required geodata files — check_geodata","text":"character vector absolute file paths. file obtained returned NA.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/check_geodata.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check and retrieve required geodata files — check_geodata","text":"CRAN enforces strict limits package size, several large datasets hosted externally rather bundled package. check_geodata() locates retrieves files using following priority: user-specified local_dirs package extdata directory per-user cache directory via tools::R_user_dir(\"ggmapcn\", \"data\") High-level mapping functions geom_mapcn() geom_world() call check_geodata() internally, users need invoke directly. However, running explicitly can useful pre-fetch verify required files. networks reliably access cdn.jsdelivr.net raw.githubusercontent.com, downloads may time corresponding entries returned vector NA. cases, users may manually download required files data repository place directory supplied local_dirs, package extdata directory, user cache directory downloads skipped. Note: recent versions geom_world() use following world datasets: world_countries.rda, world_coastlines.rda, world_boundaries.rda. legacy world.rda file longer used.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/check_geodata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check and retrieve required geodata files — check_geodata","text":"","code":"if (FALSE) { # interactive() && curl::has_internet() # Ensure that all default datasets are available (downloads only if needed) check_geodata()  # Datasets used by geom_world() check_geodata(c(   \"world_countries.rda\",   \"world_coastlines.rda\",   \"world_boundaries.rda\" ))  # China administrative boundaries check_geodata(c(\"China_sheng.rda\", \"China_shi.rda\", \"China_xian.rda\"))  # Reuse files manually placed in the working directory check_geodata(\"world_countries.rda\", local_dirs = getwd()) }"},{"path":"https://rimagination.github.io/ggmapcn/reference/compass-styles.html","id":null,"dir":"Reference","previous_headings":"","what":"Classic North Arrow Style (Minimal) — north_arrow_classic","title":"Classic North Arrow Style (Minimal) — north_arrow_classic","text":"collection style constructors return `grid` grobs use `annotation_compass(style = ...)`. styles provide different visual appearances compass north arrow drawn annotation.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/compass-styles.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Classic North Arrow Style (Minimal) — north_arrow_classic","text":"","code":"north_arrow_classic(   fill = c(\"white\", \"black\"),   line_col = \"black\",   line_width = 2,   text_col = \"black\",   text_size = 12,   text_face = \"plain\",   text_family = \"\" )  compass_sinan(   line_col = \"black\",   square_pad = 0.1,   ring_outer = 0.35,   ring_ratio = 0.65,   labels = c(\"N\", \"E\", \"S\", \"W\"),   text_size = 12,   text_face = \"plain\",   text_family = \"\",   text_col = \"black\",   label_offset = 0.05,   spoon_fill = \"black\",   spoon_col = \"black\",   spoon_scale = 0.8,   inner_fill = \"lightgrey\",   square_width = 2,   outer_width = 2,   inner_width = 1,   spoon_width = 1 )  north_arrow_classic(   fill = c(\"white\", \"black\"),   line_col = \"black\",   line_width = 2,   text_col = \"black\",   text_size = 12,   text_face = \"plain\",   text_family = \"\" )  north_arrow_solid(   fill = \"black\",   line_col = \"black\",   line_width = 1,   text_col = \"black\",   text_size = 12,   text_face = \"plain\",   text_family = \"\" )  compass_rose_simple(   fill = c(\"white\", \"black\"),   line_col = \"black\",   line_width = 1,   sharpness = 0.7,   text_col = \"black\",   text_size = 12,   text_face = \"plain\",   text_family = \"\" )  compass_rose_classic(   fill = c(\"white\", \"black\"),   line_col = \"black\",   line_width = 1.5,   sharpness = 0.6,   text_col = \"black\",   text_size = 12,   text_face = \"plain\",   text_family = \"\" )  compass_rose_circle(   fill = \"white\",   line_col = \"black\",   line_width = 3,   text_col = \"black\",   text_size = 12,   text_face = \"plain\",   text_family = \"\" )  compass_guiding_fish(   size = 1,   ring_ratio = 0.2,   ring_width = 2,   n_seg = 16,   fish_col = \"black\",   fish_shift = -0.03,   text_col = \"black\",   text_size = 12,   text_face = \"plain\",   text_family = \"\" )  compass_sinan(   line_col = \"black\",   square_pad = 0.1,   ring_outer = 0.35,   ring_ratio = 0.65,   labels = c(\"N\", \"E\", \"S\", \"W\"),   text_size = 12,   text_face = \"plain\",   text_family = \"\",   text_col = \"black\",   label_offset = 0.05,   spoon_fill = \"black\",   spoon_col = \"black\",   spoon_scale = 0.8,   inner_fill = \"lightgrey\",   square_width = 2,   outer_width = 2,   inner_width = 1,   spoon_width = 1 )"},{"path":"https://rimagination.github.io/ggmapcn/reference/compass-styles.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Classic North Arrow Style (Minimal) — north_arrow_classic","text":"fill Fill color(s) polygons. Vectorized alternating fills styles. line_col Stroke color outlines. line_width Stroke width outlines (numeric). text_col Text color labels. text_size Text font size labels (points). text_face Text font face (e.g., \"plain\", \"bold\"). text_family Text font family. square_pad Padding around outer square (Sinan style), fraction box side. ring_outer Outer ring radius (Sinan style), expressed npc units (0..1). ring_ratio Inner/outer radius ratio ringed styles (0 < value < 1). labels Character vector cardinal labels, usually `c(\"N\",\"E\",\"S\",\"W\")`. label_offset Label offset square edges (Sinan style), npc units. spoon_fill Fill color spoon glyph (Sinan style). spoon_col Stroke color spoon glyph (Sinan style). spoon_scale Scale factor spoon glyph (Sinan style). inner_fill Fill color inner disk (Sinan style). square_width, outer_width, inner_width, spoon_width Stroke widths respective elements Sinan style. sharpness Controls star-point sharpness rose styles, numeric [0, 1]. size Global size scaler (used styles). ring_width Stroke width ring outlines (numeric). n_seg Number ring segments (integer). fish_col Fill color fish shape (guiding fish style). fish_shift Vertical shift fish shape (guiding fish style).","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/compass-styles.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Classic North Arrow Style (Minimal) — north_arrow_classic","text":"`grid` graphical object (grob).","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/compass-styles.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Classic North Arrow Style (Minimal) — north_arrow_classic","text":"Exported constructors documented topic: north_arrow_classic() north_arrow_solid() compass_rose_simple() compass_rose_classic() compass_rose_circle() compass_guiding_fish() compass_sinan() constructor returns grob ready passed annotation_compass(style = ...). styles include \"N\" (cardinal labels) indicate north.","code":""},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/reference/compass-styles.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Classic North Arrow Style (Minimal) — north_arrow_classic","text":"","code":"# Standalone preview grid::grid.newpage(); grid::grid.draw(north_arrow_classic())  grid::grid.newpage(); grid::grid.draw(north_arrow_solid())  grid::grid.newpage(); grid::grid.draw(compass_rose_simple())  grid::grid.newpage(); grid::grid.draw(compass_rose_classic())  grid::grid.newpage(); grid::grid.draw(compass_rose_circle())  grid::grid.newpage(); grid::grid.draw(compass_guiding_fish())  grid::grid.newpage(); grid::grid.draw(compass_sinan())   # Use in ggplot # \\donttest{ if (requireNamespace(\"ggplot2\", quietly = TRUE) &&     requireNamespace(\"sf\", quietly = TRUE)) {   nc <- sf::st_read(system.file(\"shape/nc.shp\", package = \"sf\"), quiet = TRUE)   p <- ggplot2::ggplot() +     ggplot2::geom_sf(data = nc, fill = \"grey90\") +     ggplot2::theme_minimal()    p + annotation_compass(location = \"tr\", style = north_arrow_classic())   p + annotation_compass(location = \"bl\", style = compass_sinan()) }  # }"},{"path":"https://rimagination.github.io/ggmapcn/reference/coord_proj.html","id":null,"dir":"Reference","previous_headings":"","what":"Coordinate System with Geographic Limits Automatically Transformed to a Projection — coord_proj","title":"Coordinate System with Geographic Limits Automatically Transformed to a Projection — coord_proj","text":"`coord_proj()` extends [ggplot2::coord_sf()] allowing users specify map limits (`xlim`, `ylim`) geographic coordinates (longitude/latitude, WGS84). limits automatically transformed target projected CRS, ensuring maps display intended region correctly projection.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/coord_proj.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coordinate System with Geographic Limits Automatically Transformed to a Projection — coord_proj","text":"","code":"coord_proj(   crs = NULL,   xlim = NULL,   ylim = NULL,   expand = TRUE,   default_crs = \"EPSG:4326\",   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/coord_proj.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coordinate System with Geographic Limits Automatically Transformed to a Projection — coord_proj","text":"crs Character string object specifying output coordinate reference system (e.g., `\"EPSG:3857\"`, `\"+proj=robin\"`, `sf::crs` object). **Required**. xlim Numeric vector length 2. Longitude limits degrees (WGS84). ylim Numeric vector length 2. Latitude limits degrees (WGS84). expand Logical. Passed [ggplot2::coord_sf()]. Default `TRUE`. default_crs Character object. CRS input `xlim` `ylim`. Default `\"EPSG:4326\"` (WGS84). ... Additional arguments passed [ggplot2::coord_sf()].","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/coord_proj.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coordinate System with Geographic Limits Automatically Transformed to a Projection — coord_proj","text":"`CoordSf` object (specifically result `coord_sf()`)   automatically transformed limits.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/coord_proj.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Coordinate System with Geographic Limits Automatically Transformed to a Projection — coord_proj","text":"wrapper particularly useful [ggplot2::coord_sf()] interprets `xlim` `ylim` *projected* coordinates (units target CRS). Passing longitude/latitude directly `coord_sf()` results incorrect map extents unless output CRS also WGS84. `coord_proj()` provides safe, projection-aware workflow calculates bounding box WGS84, transforms target CRS, passes new limits `coord_sf()`.","code":""},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/reference/coord_proj.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coordinate System with Geographic Limits Automatically Transformed to a Projection — coord_proj","text":"","code":"library(ggplot2)  # \\donttest{ # Example 1: China (AEQD projection) with geographic limits china_proj <- \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\"  ggplot() +   geom_world(crs = china_proj) +   coord_proj(     crs = china_proj,     xlim = c(60, 140),     ylim = c(-10, 50)   ) +   theme_minimal()   # Example 2: Zooming into a specific region # Even though the map is projected (Robinson), we specify limits in Lat/Lon crs_robin <- \"+proj=robin +lon_0=0 +datum=WGS84\"  ggplot() +   geom_world(crs = crs_robin) +   coord_proj(     crs = crs_robin,     xlim = c(-20, 50), # Focus on Africa/Europe     ylim = c(-40, 40)   ) +   theme_minimal()  # }"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_boundary_cn.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Boundaries of China — geom_boundary_cn","title":"Plot Boundaries of China — geom_boundary_cn","text":"Draw China's administrative boundaries optional map decorations (compass scale bar). boundary category (mainland, coastline, provinces, etc.) can styled independently. boundary data reprojected specified CRS plotting.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_boundary_cn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Boundaries of China — geom_boundary_cn","text":"","code":"geom_boundary_cn(   crs = \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\",   compass = FALSE,   scale = FALSE,   mainland_color = \"black\",   mainland_size = 0.2,   mainland_linetype = \"solid\",   coastline_color = \"blue\",   coastline_size = 0.1,   coastline_linetype = \"solid\",   ten_segment_line_color = \"black\",   ten_segment_line_size = 0.2,   ten_segment_line_linetype = \"solid\",   SAR_boundary_color = \"grey40\",   SAR_boundary_size = 0.1,   SAR_boundary_linetype = \"dashed\",   undefined_boundary_color = \"black\",   undefined_boundary_size = 0.2,   undefined_boundary_linetype = \"dotdash\",   province_color = \"transparent\",   province_size = 0.1,   province_linetype = \"solid\",   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_boundary_cn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Boundaries of China — geom_boundary_cn","text":"crs Character `sf::crs`. Target coordinate reference system plotting. Defaults azimuthal equidistant projection centered China (`+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs`). compass Logical. `TRUE`, add compass pointing true north top-left corner. Default: `FALSE`. scale Logical. `TRUE`, add scale bar bottom-left corner. Default: `FALSE`. mainland_color Character. Line color mainland boundary. Default: `\"black\"`. mainland_size Numeric. Line width mainland boundary. Default: `0.2`. mainland_linetype Character. Line type mainland boundary. Default: `\"solid\"`. coastline_color Character. Line color coastlines. Default: `\"blue\"`. coastline_size Numeric. Line width coastlines. Default: `0.1`. coastline_linetype Character. Line type coastlines. Default: `\"solid\"`. ten_segment_line_color Character. Line color South China Sea ten-segment line. Default: `\"black\"`. ten_segment_line_size Numeric. Line width ten-segment line. Default: `0.2`. ten_segment_line_linetype Character. Line type ten-segment line. Default: `\"solid\"`. SAR_boundary_color Character. Line color Hong Kong Macau SAR boundaries. Default: `\"grey40\"`. SAR_boundary_size Numeric. Line width SAR boundaries. Default: `0.1`. SAR_boundary_linetype Character. Line type SAR boundaries. Default: `\"dashed\"`. undefined_boundary_color Character. Line color undefined disputed boundaries. Default: `\"black\"`. undefined_boundary_size Numeric. Line width undefined boundaries. Default: `0.2`. undefined_boundary_linetype Character. Line type undefined boundaries. Default: `\"dotdash\"`. province_color Character. Line color provincial boundaries. Default: `\"transparent\"`. province_size Numeric. Line width provincial boundaries. Default: `0.1`. province_linetype Character. Line type provincial boundaries. Default: `\"solid\"`. ... Additional arguments passed `ggplot2::geom_sf()` (e.g., `alpha`).","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_boundary_cn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Boundaries of China — geom_boundary_cn","text":"list `ggplot2` layers. boundary dataset   obtained, empty list returned.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_boundary_cn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Boundaries of China — geom_boundary_cn","text":"","code":"# Example 1: Basic China map ggplot() +   geom_boundary_cn() +   theme_minimal()   # Example 2: Add compass and scale bar (easy mode) ggplot() +   geom_boundary_cn(compass = TRUE, scale = TRUE) +   theme_minimal()   # Example 3: Custom styling ggplot() +   geom_boundary_cn(     coastline_color  = \"steelblue\",     province_color   = \"grey70\",     province_linetype = \"dashed\"   ) +   theme_minimal()   # Example 4: Advanced usage with a custom projected CRS (Albers) albers_cn <- \"+proj=aea +lat_1=25 +lat_2=47 +lat_0=0 +lon_0=105 +datum=WGS84 +units=m +no_defs\"  ggplot() +   geom_boundary_cn(crs = albers_cn) +   annotation_compass(location = \"tl\", which_north = \"true\") +   annotation_scalebar(location = \"bl\", fixed_width = 500000, display_unit = \"km\") +   coord_sf(crs = albers_cn) +   theme_minimal()"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_buffer_cn.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Buffered Layers for China's Boundary — geom_buffer_cn","title":"Plot Buffered Layers for China's Boundary — geom_buffer_cn","text":"Creates ggplot2 layer displaying buffered areas around China's boundaries, including mainland boundary ten-segment line. Buffers user-defined distances generated around boundary, providing flexibility projection appearance.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_buffer_cn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Buffered Layers for China's Boundary — geom_buffer_cn","text":"","code":"geom_buffer_cn(   mainland_dist = 20000,   ten_line_dist = NULL,   crs = \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\",   color = NA,   fill = \"#D2D5EB\",   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_buffer_cn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Buffered Layers for China's Boundary — geom_buffer_cn","text":"mainland_dist Numeric. buffer distance (meters) mainland boundary. ten_line_dist Numeric. buffer distance (meters) segment ten-segment line. specified, defaults value `mainland_dist`. crs Character. coordinate reference system (CRS) projection. Defaults \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\". Users can specify CRS strings (e.g., \"+proj=merc\" Mercator). color Character. border color buffer area. Default `NA` (transparent). fill Character. fill color buffer area. Default `\"#D2D5EB\"`. ... Additional parameters passed `geom_sf`.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_buffer_cn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Buffered Layers for China's Boundary — geom_buffer_cn","text":"ggplot2 layer displaying buffered areas around China's boundaries,   customizable buffer distances mainland boundary ten-segment line,   using specified projection.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_buffer_cn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot Buffered Layers for China's Boundary — geom_buffer_cn","text":"","code":"# \\donttest{ # Plot buffers with specified distances for mainland and ten-segment line ggplot() +   geom_buffer_cn(     mainland_dist = 10000,     ten_line_dist = 5000   ) +   theme_minimal() #> Warning: attribute variables are assumed to be spatially constant throughout all geometries  # }"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_loc.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize Spatial Point Data — geom_loc","title":"Visualize Spatial Point Data — geom_loc","text":"`geom_loc` wrapper around ggplot2::geom_sf() designed visualizing spatial point data. supports sf objects tabular data frames longitude latitude columns, automatically transforming specified coordinate reference system (CRS).","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_loc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize Spatial Point Data — geom_loc","text":"","code":"geom_loc(   data,   lon = NULL,   lat = NULL,   crs = \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\",   mapping = ggplot2::aes(),   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_loc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize Spatial Point Data — geom_loc","text":"data data frame, tibble, sf object containing spatial point data. lon character string. name longitude column data (required data tabular). lat character string. name latitude column data (required data tabular). crs character string. target coordinate reference system (CRS) data. Defaults \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\". mapping Aesthetic mappings created ggplot2::aes(), color size. ... Additional parameters passed ggplot2::geom_sf(), size, alpha, color.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_loc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize Spatial Point Data — geom_loc","text":"ggplot2 layer visualizing spatial point data, either `sf` object tabular data frame   longitude latitude columns, transforming data specified coordinate reference system (CRS).","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_loc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Visualize Spatial Point Data — geom_loc","text":"function simplifies process visualizing spatial data ggplot2 automatically handling CRS transformations providing interface sf tabular data. input tabular data frame, converted sf object using specified longitude latitude columns. See ggplot2::geom_sf() details additional parameters aesthetics.","code":""},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_loc.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visualize Spatial Point Data — geom_loc","text":"","code":"# Generate a random dataset with latitude and longitude set.seed(123) data_sim <- data.frame(   Longitude = runif(100, 80, 120),   Latitude = runif(100, 28, 40),   Category = sample(c(\"Type A\", \"Type B\", \"Type C\"), 100, replace = TRUE) )  # Visualize the data with China's boundaries ggplot() +   geom_boundary_cn() +   geom_loc(     data = data_sim, lon = \"Longitude\", lat = \"Latitude\",     mapping = aes(color = Category), size = 1, alpha = 0.7   ) +   theme_minimal()"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_mapcn.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot China Map with Customizable Options — geom_mapcn","title":"Plot China Map with Customizable Options — geom_mapcn","text":"`geom_mapcn()` draws China's administrative units simple, opinionated interface. `data` `NULL`, loads packaged map data requested administrative level, optionally applies attribute-based filtering, removes internal clipping rows, reprojects layer target CRS. typical use, `geom_mapcn()` combined `geom_boundary_cn()` draw coastlines, national borders, boundary features top administrative polygons.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_mapcn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot China Map with Customizable Options — geom_mapcn","text":"","code":"geom_mapcn(   data = NULL,   admin_level = \"province\",   crs = \"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\",   color = \"black\",   fill = \"white\",   linewidth = 0.1,   filter_attribute = NULL,   filter = NULL,   mapping = NULL,   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_mapcn.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot China Map with Customizable Options — geom_mapcn","text":"data `sf` object geometries draw. `NULL`, function loads packaged dataset corresponding `admin_level`. admin_level Administrative level plot. One `\"province\"` (default), `\"city\"`, `\"county\"`. map packaged files `China_sheng.rda`, `China_shi.rda`, `China_xian.rda`, respectively. crs Coordinate reference system used plotting. Defaults azimuthal equidistant projection centered China: `\"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs\"`. Accepts PROJ strings EPSG codes (e.g., `\"EPSG:4326\"`). color Border color polygons. Default `\"black\"`. fill Fill color polygons. Default `\"white\"`. linewidth Border line width. Default `0.1`. older `ggplot2` versions, use `size` instead `linewidth`. filter_attribute Optional name attribute column used filter features (e.g., `\"name_en\"`). filter Optional character vector values keep `filter_attribute` (e.g., `c(\"Beijing\", \"Shanghai\")`). supplied together `filter_attribute`, features subsetted accordingly. features remain filtering, error thrown. mapping Optional aesthetics mapping passed `ggplot2::geom_sf()`. useful additional aesthetics (e.g., `fill`) mapped columns `data`. ... Additional arguments forwarded `ggplot2::geom_sf()`.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_mapcn.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot China Map with Customizable Options — geom_mapcn","text":"`ggplot2` layer can added plot.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_mapcn.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot China Map with Customizable Options — geom_mapcn","text":"`data` `NULL`, `geom_mapcn()` selects one packaged datasets: * `admin_level = \"province\"` → `China_sheng.rda` * `admin_level = \"city\"`     → `China_shi.rda` * `admin_level = \"county\"`   → `China_xian.rda` file ensured exist locally via `check_geodata()`, may reuse existing copy package `extdata` directory user cache, download external repository necessary. `.rda` file loaded resolved path, main `sf` object extracted. special row labelled `\"Boundary Line\"` (used technical clipping) removed automatically present. Attribute-based filtering can applied using `filter_attribute` `filter` reprojecting target CRS.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_mapcn.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot China Map with Customizable Options — geom_mapcn","text":"","code":"# 1. Basic provincial map (recommended: combine with geom_boundary_cn) ggplot() +   geom_mapcn() +   geom_boundary_cn() +   theme_minimal()   # 2. City-level map with custom fill and boundaries ggplot() +   geom_mapcn(     admin_level = \"city\",     fill = \"grey95\",     color = \"grey60\"   ) +   geom_boundary_cn(province_color = \"grey40\") +   theme_bw() #> Warning: 'x' is NULL so the result will be NULL   # 3. Filter by attribute (e.g., English names) and highlight selected provinces ggplot() +   geom_mapcn(     filter_attribute = \"name_en\",     filter = c(\"Beijing\", \"Shanghai\"),     fill = \"tomato\"   ) +   geom_boundary_cn() +   theme_minimal()   # 4. Use a different projection (e.g., Albers equal-area) albers_cn <- \"+proj=aea +lat_1=25 +lat_2=47 +lat_0=0 +lon_0=105 +datum=WGS84\"  ggplot() +   geom_mapcn(crs = albers_cn, linewidth = 0.3) +   geom_boundary_cn(crs = albers_cn) +   coord_sf(crs = albers_cn) +   theme_minimal()"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_world.html","id":null,"dir":"Reference","previous_headings":"","what":"Convenient Global Basemap Layer for ggplot2 — geom_world","title":"Convenient Global Basemap Layer for ggplot2 — geom_world","text":"`geom_world()` draws styled global basemap using bundled country polygons, coastlines, administrative boundary data. automatically handles antimeridian splitting CRS transformation, supports optional country filtering focused maps.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_world.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convenient Global Basemap Layer for ggplot2 — geom_world","text":"","code":"geom_world(   crs = 4326,   filter_attribute = \"SOC\",   filter = NULL,   show_ocean = TRUE,   show_admin_boundaries = TRUE,   show_frame = FALSE,   ocean_fill = \"#c7e8fb\",   frame_color = \"black\",   frame_size = 0.2,   frame_linetype = \"solid\",   country_fill = \"grey90\",   country_boundary_color = \"transparent\",   country_boundary_size = 0.1,   country_boundary_linetype = \"solid\",   coastline_color = \"#26ace7\",   coastline_size = 0.1,   coastline_linetype = \"solid\",   international_boundary_color = \"grey20\",   international_boundary_size = 0.1,   international_boundary_linetype = \"solid\",   regional_boundary_color = \"grey20\",   regional_boundary_size = 0.1,   regional_boundary_linetype = \"dashed\",   undefined_boundary_color = \"grey20\",   undefined_boundary_size = 0.1,   undefined_boundary_linetype = \"longdash\",   military_boundary_color = \"grey20\",   military_boundary_size = 0.1,   military_boundary_linetype = \"dotted\",   ... )"},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_world.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convenient Global Basemap Layer for ggplot2 — geom_world","text":"crs Coordinate reference system basemap. Accepts numeric EPSG code, PROJ string, [sf::crs] object. default `4326` (WGS84). filter_attribute Name column `countries` dataset used filtering. Default `\"SOC\"`. filter Character vector specifying values `filter_attribute` retain. `NULL` (default), filtering applied. non-`NULL`, selected countries drawn, ocean, coastlines, administrative boundaries, frame omitted. show_ocean Logical; draw ocean background polygon. Default `TRUE`. Ignored `filter` `NULL`. show_admin_boundaries Logical; draw administrative political boundaries (international, regional, undefined/disputed, military demarcation lines). Default `TRUE`. Ignored `filter` `NULL`. show_frame Logical; draw outer frame following projected outline world. Default `FALSE`. Ignored `filter` `NULL`. ocean_fill Fill color ocean polygon. Default `\"#c7e8fb\"`. frame_color Color outer frame line. Default `\"grey20\"`. frame_size Line width outer frame. Default `0.1`. frame_linetype Line type outer frame. Default `\"solid\"`. country_fill Fill color country polygons. Default `\"grey90\"`. country_boundary_color Color country boundary outlines. Default `\"transparent\"`. country_boundary_size Width country boundary outlines. Default `0.1`. country_boundary_linetype Line type country boundaries. Default `\"solid\"`. coastline_color Color coastline layer. Default `\"#26ace7\"`. coastline_size Line width coastlines. Default `0.1`. coastline_linetype Line type coastlines. Default `\"solid\"`. international_boundary_color Color international boundary lines. Default `\"grey20\"`. international_boundary_size Width international boundaries. Default `0.1`. international_boundary_linetype Line type international boundaries. Default `\"solid\"`. regional_boundary_color Color regional boundaries (e.g. states). Default `\"grey20\"`. regional_boundary_size Width regional boundaries. Default `0.1`. regional_boundary_linetype Line type regional boundaries. Default `\"dashed\"`. undefined_boundary_color Color undefined disputed boundaries. Default `\"grey20\"`. undefined_boundary_size Width undefined boundaries. Default `0.1`. undefined_boundary_linetype Line type undefined boundaries. Default `\"longdash\"`. military_boundary_color Color military demarcation lines. Default `\"grey20\"`. military_boundary_size Width military demarcation lines. Default `0.1`. military_boundary_linetype Line type military demarcation lines. Default `\"dotted\"`. ... Additional arguments passed [ggplot2::geom_sf()] country polygons layer.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_world.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convenient Global Basemap Layer for ggplot2 — geom_world","text":"list [ggplot2] layers representing world map (  filtered subset), ready added ggplot.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_world.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convenient Global Basemap Layer for ggplot2 — geom_world","text":"function supersedes early development versions required users supply map data. current implementation: - Always uses bundled world map data (countries, coastlines, boundaries). - Exposes dedicated arguments ocean fill, coastlines, administrative boundaries. - Builds projection-aware global outline ocean/frame layer.   **geographic CRSs** (including shifted central meridian,   e.g., `+lon_0=150`), creates seamless rectangular bounding box directly   target CRS avoid topological splitting artifacts (vertical lines).   **projected CRSs** (e.g., Robinson, Mollweide), computes convex   hull projected graticule.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/geom_world.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convenient Global Basemap Layer for ggplot2 — geom_world","text":"","code":"library(ggplot2) # \\donttest{ # 1. Simple World Map (WGS84) ggplot() +   geom_world() +   theme_void()   # 2. Pacific-Centered View (Shifted LongLat) crs_longlat_150 <- \"+proj=longlat +datum=WGS84 +lon_0=150\" ggplot() +   geom_world(crs = crs_longlat_150, show_frame = TRUE, show_ocean = FALSE) +   theme_void()   # 3. Robinson Projection (Projected CRS) crs_robin <- \"+proj=robin +lon_0=0 +datum=WGS84\" ggplot() +   geom_world(crs = crs_robin, show_frame = TRUE) +   theme_void()   # 4. Without administrative boundaries ggplot() +   geom_world(show_admin_boundaries = FALSE) +   theme_minimal()   # 5. Highlighting specific countries (China) ggplot() +   geom_world(country_fill = \"grey95\") +   geom_world(     filter_attribute = \"SOC\",     filter = \"CHN\",     country_fill = \"red\",     country_boundary_color = \"black\"   ) +   theme_void()  # }"},{"path":"https://rimagination.github.io/ggmapcn/reference/ggmapcn-package.html","id":null,"dir":"Reference","previous_headings":"","what":"ggmapcn: China-Focused Mapping Tools with Optional Global Support for ggplot2 — ggmapcn-package","title":"ggmapcn: China-Focused Mapping Tools with Optional Global Support for ggplot2 — ggmapcn-package","text":"**ggmapcn** provides lightweight, ready--use tools drawing China world maps *ggplot2*. bundles clean geodata offers simple, projection-aware helpers basemaps, graticules, compasses, scale bars.","code":""},{"path":"https://rimagination.github.io/ggmapcn/reference/ggmapcn-package.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"ggmapcn: China-Focused Mapping Tools with Optional Global Support for ggplot2 — ggmapcn-package","text":"## Main Features - **World maps**: `geom_world()` draws complete global basemap   countries, coastlines, boundaries, optional ocean fill. - **China maps**: `geom_mapcn()` `geom_boundary_cn()` provide provincial,   prefecture-level maps coastlines. - **Annotation tools**:   - `annotation_graticule()` — global graticules projection-aware labels.   - `annotation_scalebar()` — scale bar automatic units CRS     detection.   - `annotation_compass()` — north arrow several styles. - **Projection helper**:   - `coord_proj()` — specify geographic `xlim`/`ylim` degrees     automatically transform projection. - **Geodata management**:   - `check_geodata()` locates bundled world China datasets ensures     graceful behaviour data internet resources unavailable. ## Integration functions return standard *ggplot2* layers work seamlessly `sf` objects, custom projections, `coord_sf()`.","code":""},{"path":[]},{"path":"https://rimagination.github.io/ggmapcn/reference/ggmapcn-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ggmapcn: China-Focused Mapping Tools with Optional Global Support for ggplot2 — ggmapcn-package","text":"Maintainer: Liang Ren rl23@mails.tsinghua.edu.cn (ORCID)","code":""},{"path":"https://rimagination.github.io/ggmapcn/news/index.html","id":"ggmapcn-030","dir":"Changelog","previous_headings":"","what":"ggmapcn 0.3.0","title":"ggmapcn 0.3.0","text":"CRAN release: 2025-11-23","code":""},{"path":"https://rimagination.github.io/ggmapcn/news/index.html","id":"new-features-0-3-0","dir":"Changelog","previous_headings":"","what":"NEW FEATURES","title":"ggmapcn 0.3.0","text":"New function: annotation_graticule() Adds projection-aware global graticule system customizable spacing, labeling, automatic antimeridian handling.","code":""},{"path":"https://rimagination.github.io/ggmapcn/news/index.html","id":"major-improvements-0-3-0","dir":"Changelog","previous_headings":"","what":"MAJOR IMPROVEMENTS","title":"ggmapcn 0.3.0","text":"Major redesign geom_world() Fully rebuilt global basemap system bundled world polygons, coastlines, boundaries; improved antimeridian handling; reliable behavior complex projections; clearer, consistent styling controls. Major redesign external data workflow (check_geodata()) data-management system rewritten meet CRAN size limits improve reliability. Required datasets now located retrieved automatically using priority search (local directories → package extdata → user cache), retry, resume, mirror fallbacks, fully graceful failure. mapping functions now call workflow internally.","code":""},{"path":"https://rimagination.github.io/ggmapcn/news/index.html","id":"improvements-0-3-0","dir":"Changelog","previous_headings":"","what":"IMPROVEMENTS","title":"ggmapcn 0.3.0","text":"robust CRS parsing, including reliable extraction lon_0 PROJ strings. Better stability coord_sf(), especially global projections shifted central meridians. Updated documentation examples, including usage new world dataset (world_countries.rda, world_coastlines.rda, world_boundaries.rda). consistent rendering across projections Robinson, Mollweide, shifted longitude systems.","code":""}]
