% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/coord_proj.R
\name{coord_proj}
\alias{coord_proj}
\title{Coordinate System with Geographic Limits Automatically Transformed to a Projection}
\usage{
coord_proj(
  crs = NULL,
  xlim = NULL,
  ylim = NULL,
  expand = TRUE,
  default_crs = "EPSG:4326",
  ...
)
}
\arguments{
\item{crs}{Character string specifying the output coordinate reference system
(e.g., `"EPSG:4326"`, `"EPSG:3857"`, or a PROJ string such as
`"+proj=aeqd +lat_0=35 +lon_0=105"`). Required.}

\item{xlim}{Numeric vector of length 2. Longitude limits in degrees (WGS84).}

\item{ylim}{Numeric vector of length 2. Latitude limits in degrees (WGS84).}

\item{expand}{Logical. Passed to \code{coord_sf()}. Default: `TRUE`.}

\item{default_crs}{Character. CRS of `xlim` and `ylim`. Default: `"EPSG:4326"`.}

\item{...}{Additional arguments passed to \code{coord_sf()}.}
}
\value{
A \code{ggplot2::coord_sf} object with automatically transformed limits.
}
\description{
`coord_proj()` extends \code{\link[ggplot2:coord_sf]{ggplot2::coord_sf()}} by
allowing users to specify map limits (`xlim`, `ylim`) in geographic coordinates
(longitude/latitude, WGS84). These limits are automatically transformed into the
target projected CRS, ensuring that maps display the intended region correctly
under any projection.

This wrapper is particularly useful because \code{coord_sf()} interprets
`xlim` and `ylim` as *projected* coordinates. Passing longitude/latitude
directly to \code{coord_sf()} results in incorrect map extents unless the CRS
is WGS84. `coord_proj()` provides a safe, projection-aware workflow that
requires no manual calculation of projected bounding boxes.
}
\examples{
# Example 1: China (AEQD projection) with geographic limits
china_proj <- "+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs"

ggplot() +
  geom_world(crs = china_proj) +
  coord_proj(
    crs = china_proj,
    xlim = c(60, 140),
    ylim = c(-10, 50)
  ) +
  theme_minimal()


# Example 2: South China Sea region using geom_mapcn + geom_boundary_cn
ggplot() +
  geom_mapcn(fill = "white") +
  geom_boundary_cn() +
  theme_bw() +
  coord_proj(
    crs = china_proj,
    expand = FALSE,
    xlim = c(105, 126),   # lon range
    ylim = c(2, 23)       # lat range
  )

}
\seealso{
\code{\link[ggplot2:coord_sf]{ggplot2::coord_sf}},
\code{\link[ggmapcn:geom_world]{geom_world}},
\code{\link[ggmapcn:geom_mapcn]{geom_mapcn}}
}
